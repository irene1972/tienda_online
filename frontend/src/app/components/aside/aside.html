<section class="container">
    <aside id="lateral">
        <div id="login" class="block_aside">
            <h3>{{usuario===false ? 'Entrar a la web' : usuario.nombre + ' ' + usuario.apellidos}}</h3>
            <div [class.text-danger]="tipo === false" [class.text-success]="tipo === true">{{mensaje}}</div>
            <form [formGroup]="miForm" (ngSubmit)="cargarDatos()" [class.hidden]="usuario !== false">
                <label for="email">Email</label>
                <input type="email" formControlName="email" />
                @if (email?.touched && email?.hasError('required')) {
                <div class="text-danger">
                    El email es obligatorio.
                </div>
                }@else if (email?.touched && email?.hasError('pattern')) {
                <div class="text-danger">
                    El email no tiene un formato válido.
                </div>
                }

                <label for="password">Contraseña</label>
                <input type="password" formControlName="password" />
                @if (password?.touched && password?.hasError('required')) {
                <div class="text-danger">
                    El password es obligatorio.
                </div>
                }
                @if (password?.touched && password?.hasError('minlength')) {
                <div class="text-danger">
                    El password debe tener al menos 3 carácteres.
                </div>
                }

                <input type="submit" value="Enviar" />
            </form>
            <ul>
                @if(usuario && usuario.rol==='admin'){
                <li><a [routerLink]="['/categoria']">Gestionar categorías</a></li>
                <li><a href="#">Gestionar productos</a></li>
                <li><a href="#">Gestionar pedidos</a></li>
                }
                @if(usuario){
                    <li><a href="#">Mis pedidos</a></li>
                    <li><a href="#" (click)="cerrarSesion()">Cerrar Sesión</a></li>
                }
                
            </ul>

        </div>
    </aside>
</section>